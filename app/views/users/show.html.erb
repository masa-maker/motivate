<%= render "shared/header"%>
<div class="container">
  <div class="profile-wrapper">
  <% if @profile.present? %>
    <div class="profile-image">
    <%= image_tag @profile.image,  size: '150x150' ,class: "rounded-circle border border-secondary" %>
    </div>
  <% else %>
    <div class="profile-image">
    <%= image_tag 'icon_camera.png',  size: '80x80' ,class: "rounded-circle" %>
    </div>
  <% end %>
    <div class="follow-btn">
      <ul class="follow-list">
      
      <% if current_user.id == @user.id %>
      <% unless @profile.present? %>
        <li>
          <%= link_to "プロフィール作成", user_profiles_path(@user.id), class: "btn btn-primary btn-lg" %>
        </li>
      <% end %>
        <li>
          <%= link_to "プロフィール更新", edit_user_profile_path(@user.id), class: "btn btn-primary btn-lg" %>
        </li>
      <% else %>
        <li>
          <%= link_to "フォローする", "#", class: "btn btn-primary btn-lg" %>
        </li>
      <% end %>
        <li>
        <%= link_to "1000", "#" %><p>フォロワー</p>
        </li>
        <li>
        <%= link_to "1", "#" %><p>フォロー中</p>
        </li>
      </ul>
    </div>
    <% if @profile.present? %>
    <div class="profile-info">
    <%= @profile.info %>
    </div>
    <% end %> 
        <div class="inner">
          <div class="card-wrapper">
          <% @posts.each do |post|%>
            <div class ="card">
              <div class="image-body">
              <%= image_tag post.image, class: "image-size"%>
              </div>
              <div class="text-body">
                <div class="options">
                <% if user_signed_in? %>
                  <%= link_to "いいね", "#", class:"btn btn-outline-danger"%>
                <% end %>
                  <% if user_signed_in? && current_user.id == post.user_id%>
                    <%= link_to "編集", edit_post_path(post.id), class:"btn btn-outline-dark"%>
                    <%= link_to "削除", post_path(post.id), method: :delete, class:"btn btn-outline-dark"%>
                  <% end %>
                </div>
                <div class="user-name"><%= post.user.name%></div>
                <div class="message"><%= post.text%></div>
                <div class="create-time"><%= post.created_at %></div>
              </div>
            </div> 
          <% end %> 
          </div>
        <div>
  </div>
</div>


<%= render "shared/footer"%>